const _ = require('lodash')

const CalendarDate = require('../../models/CalendarDate')

/*
 * Returns an array of calendarDates for the `service_ids` specified
 */
exports.getCalendarDatesByService = (serviceIds, cb) => {
  if (!_.isArray(serviceIds)) {
    serviceIds = [serviceIds]
  }

  return CalendarDate.find({
    service_id: {
      $in: serviceIds
    }
  }).exec(cb)
}
